<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeLens - Story-Based Code Explainer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Prism.js Base -->
    <link id="prism-theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'Fira Code', monospace; }
        
        /* Starry Background Effect */
        .star-bg {
            background-color: #0b1120;
            background-image: 
                radial-gradient(1px 1px at 20px 30px, #ffffff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 40px 70px, #ffffff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 50px 160px, #ffffff, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 90px 40px, #ffffff, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 130px 80px, #ffffff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 160px 120px, #ffffff, rgba(0,0,0,0));
            background-repeat: repeat;
            background-size: 200px 200px;
        }

        /* High-Fidelity Scrollbar matching user reference image */
        .custom-scrollbar::-webkit-scrollbar {
            width: 14px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #0f172a; /* Deep dark gutter */
            border-left: 1px solid rgba(255, 255, 255, 0.05);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #64748b; /* Slate-500 grey thumb */
            border-radius: 10px;
            border: 3px solid #0f172a; /* Creates the "inset pill" padding effect */
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; /* Lighter grey on hover */
        }

        /* Editor Overrides */
        .npm-editor-container pre, 
        .npm-editor-container code,
        .npm-editor-container .token {
            background: transparent !important;
            text-shadow: none !important;
            box-shadow: none !important;
            font-family: inherit !important;
            font-size: inherit !important;
            line-height: inherit !important;
        }

        /* DARK SYNTAX - Matching Reference Image */
        .dark .token.comment, .dark .token.prolog, .dark .token.doctype, .dark .token.cdata { color: #637777 !important; font-style: italic; }
        .dark .token.punctuation { color: #c792ea !important; }
        .dark .token.namespace { opacity: .7; }
        .dark .token.property, .dark .token.tag, .dark .token.boolean, .dark .token.number, .dark .token.constant, .dark .token.symbol, .dark .token.deleted { color: #f78c6c !important; }
        .dark .token.selector, .dark .token.attr-name, .dark .token.string, .dark .token.char, .dark .token.builtin, .dark .token.inserted { color: #c3e88d !important; }
        .dark .token.operator, .dark .token.entity, .dark .token.url { color: #89ddff !important; }
        .dark .token.atrule, .dark .token.attr-value, .dark .token.keyword { color: #c792ea !important; }
        .dark .token.function, .dark .token.class-name { color: #82aaff !important; }
        .dark .token.regex, .dark .token.important, .dark .token.variable { color: #addb67 !important; }

        /* Typography Sync */
        .npm-editor-container textarea, .npm-editor-container pre {
            font-family: 'Fira Code', monospace !important;
            font-size: 14px !important;
            line-height: 1.7 !important;
            white-space: pre !important;
            word-spacing: normal !important;
            word-break: normal !important;
            word-wrap: normal !important;
            tab-size: 4 !important;
        }

        .npm-editor-container textarea {
            outline: none !important;
            color: transparent !important;
            caret-color: #5b52f9;
            background: none !important;
            z-index: 1;
        }

        .npm-editor-container pre {
            pointer-events: none;
            position: absolute !important;
            top: 0;
            left: 0;
            margin: 0 !important;
            z-index: 0;
            width: 100%;
            height: 100%;
        }
    </style>

    <!-- Prism.js Core and Languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>

<script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "@google/genai": "https://esm.sh/@google/genai@^1.35.0",
    "react-simple-code-editor": "https://esm.sh/react-simple-code-editor@0.14.1"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-900 transition-colors duration-300">
    <div id="root"></div>
</body>
</html>